<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RHF ‚Äì Weekly Stats</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="wrap">
    <div class="hero">
      <h1>RHF ‚Äì Weekly Stats</h1>
      <p class="muted" id="subtitle">Auto-updates from bot exports.</p>

      <div class="tabs" role="tablist">
        <button class="tab-btn active" data-tab="gift" role="tab">Hunt (Gifts)</button>
        <button class="tab-btn" data-tab="kills" role="tab">Kills</button>
        <button class="tab-btn" data-tab="fest" role="tab">Guild Fest</button>
        <button class="tab-btn" data-tab="history" role="tab">History</button>
        <button class="tab-btn" data-tab="alltime" role="tab">All-time stats</button>
      </div>
    </div>
  </header>

  <main class="wrap">

    <!-- ========== GIFTS ========== -->
    <section id="tab-gift" class="section">
      <div class="panel">
        <div class="panel-head">
          <h2>Current week ‚Äì Hunt (Gifts)</h2>
          <div class="controls">
            <input id="searchGift" type="text" placeholder="Search player..." />
            <select id="sortGift">
              <option value="pointsHunt">Sort by Hunt points</option>
              <option value="hunt">Sort by Hunt count</option>
              <option value="total">Sort by Total gifts</option>
              <option value="purchase">Sort by Purchases</option>
              <option value="name">Sort by Name</option>
            </select>
            <button id="refreshGift">Refresh</button>
          </div>
          <div id="metaGift" class="meta"></div>
          <div id="staleWarnGift" class="muted small"></div>
        </div>

        <div id="loadingGift" class="loading">Loading Hunt data...</div>

        <div class="table-wrap hidden" id="tableWrapGift">
          <div class="table-scroll">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Player</th>
                  <th>Purch.</th>
                  <th>Hunt</th>
                  <th>Points</th>
                  <th>L1</th>
                  <th>L2</th>
                  <th>L3</th>
                  <th>L4</th>
                  <th>L5</th>
                  <th>Total</th>
                  <th>Goal %</th>
                </tr>
              </thead>
              <tbody id="tbodyGift"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="errorGift" class="error hidden"></div>
    </section>

    <!-- ========== KILLS ========== -->
    <section id="tab-kills" class="section hidden">
      <div class="panel">
        <div class="panel-head">
          <h2>Current week ‚Äì Kills</h2>
          <div class="controls">
            <input id="searchKills" type="text" placeholder="Search player..." />
            <select id="sortKills">
              <option value="killsThisWeek">Sort by Weekly kills</option>
              <option value="oldKills">Sort by Old kills</option>
              <option value="totalKills">Sort by Total kills</option>
              <option value="name">Sort by Name</option>
            </select>
            <button id="refreshKills">Refresh</button>
          </div>
          <div id="metaKills" class="meta"></div>
          <div id="staleWarnKills" class="muted small"></div>
        </div>

        <div id="loadingKills" class="loading">Loading Kills data...</div>

        <div class="table-wrap hidden" id="tableWrapKills">
          <div class="table-scroll">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Player</th>
                  <th>Kills this week</th>
                  <th>Total kills</th>
                  <th>Old kills</th>
                </tr>
              </thead>
              <tbody id="tbodyKills"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="errorKills" class="error hidden"></div>
    </section>

    <!-- ========== GUILD FEST ========== -->
    <section id="tab-fest" class="section hidden">
      <div class="panel">
        <div class="panel-head">
          <h2>Latest Guild Fest</h2>
          <div class="controls">
            <input id="searchFest" type="text" placeholder="Search player..." />
            <select id="sortFest">
              <option value="points">Sort by Points</option>
              <option value="name">Sort by Name</option>
            </select>
            <button id="refreshFest">Refresh</button>
          </div>
          <div id="metaFest" class="meta"></div>
          <div id="staleWarnFest" class="muted small"></div>
        </div>

        <div id="loadingFest" class="loading">Loading Guild Fest data...</div>

        <div class="table-wrap hidden" id="tableWrapFest">
          <div class="table-scroll">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Player</th>
                  <th>Points</th>
                </tr>
              </thead>
              <tbody id="tbodyFest"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="errorFest" class="error hidden"></div>
    </section>

    <!-- ========== HISTORY ========== -->
    <section id="tab-history" class="section hidden">
      <div class="panel">
        <div class="panel-head">
          <h2>History</h2>
          <p class="muted small">
            Select a past week (Tue ‚Üí Mon). If files don‚Äôt exist yet, it will show ‚Äúnot found‚Äù.
          </p>

          <div class="controls history-controls">
            <select id="historyWeek"></select>
            <button id="loadHistory">Load week</button>
          </div>

          <div id="metaHistory" class="meta"></div>
        </div>

        <div class="history-grid">

          <div class="history-block">
            <h3>Hunt (Gifts)</h3>
            <div id="loadingHistoryGift" class="loading small">Choose a week‚Ä¶</div>
            <div class="table-wrap hidden" id="tableWrapHistoryGift">
              <div class="table-scroll">
                <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Purch.</th>
                    <th>Hunt</th>
                    <th>Points</th>
                    <th>L1</th><th>L2</th><th>L3</th><th>L4</th><th>L5</th>
                    <th>Total</th>
                    <th>Goal %</th>
                  </tr>
                  </thead>
                  <tbody id="tbodyHistoryGift"></tbody>
                </table>
              </div>
            </div>
            <div id="errorHistoryGift" class="error hidden"></div>
          </div>

          <div class="history-block">
            <h3>Kills</h3>
            <div id="loadingHistoryKills" class="loading small">Choose a week‚Ä¶</div>
            <div class="table-wrap hidden" id="tableWrapHistoryKills">
              <div class="table-scroll">
                <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Kills this week</th>
                    <th>Total kills</th>
                    <th>Old kills</th>
                  </tr>
                  </thead>
                  <tbody id="tbodyHistoryKills"></tbody>
                </table>
              </div>
            </div>
            <div id="errorHistoryKills" class="error hidden"></div>
          </div>

        </div>
      </div>
    </section>

    <!-- ========== ALL TIME ========== -->
    <section id="tab-alltime" class="section hidden">
      <div class="panel">
        <div class="panel-head">
          <h2>Statistics of all times</h2>
          <p class="muted small">
            This section sums all available history weeks.
          </p>
          <div class="controls">
            <button id="refreshAlltime">Recalculate</button>
          </div>
          <div id="metaAlltime" class="meta"></div>
        </div>

        <div class="history-grid">

          <div class="history-block">
            <h3>All-time Hunt</h3>
            <div id="loadingAlltimeGift" class="loading small">Loading‚Ä¶</div>
            <div class="table-wrap hidden" id="tableWrapAlltimeGift">
              <div class="table-scroll">
                <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Hunt</th>
                    <th>Points</th>
                  </tr>
                  </thead>
                  <tbody id="tbodyAlltimeGift"></tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="history-block">
            <h3>All-time Kills</h3>
            <div id="loadingAlltimeKills" class="loading small">Loading‚Ä¶</div>
            <div class="table-wrap hidden" id="tableWrapAlltimeKills">
              <div class="table-scroll">
                <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Total kills</th>
                  </tr>
                  </thead>
                  <tbody id="tbodyAlltimeKills"></tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="history-block">
            <h3>All-time Guild Fest</h3>
            <div id="loadingAlltimeFest" class="loading small">Loading‚Ä¶</div>
            <div class="table-wrap hidden" id="tableWrapAlltimeFest">
              <div class="table-scroll">
                <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Player</th>
                    <th>Total points</th>
                  </tr>
                  </thead>
                  <tbody id="tbodyAlltimeFest"></tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

  </main>

  <footer class="wrap muted small">
    Made for RHF. If something looks wrong, tell excesives üôÇ
  </footer>

  <script src="app.js"></script>
</body>
</html>
