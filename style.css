:root{
  --bg: #0b0d10;
  --panel: #121622;
  --panel-2: #171c2b;
  --line: #242b3b;
  --text: #e9eef5;
  --muted: #a9b3c1;
  --accent: #6ee7ff;
  --accent-2: #a78bfa;
  --good: #34d399;
  --warn: #fbbf24;
  --bad: #fb7185;
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  font-synthesis: style;
}

*{ box-sizing: border-box; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(1200px 600px at 10% -10%, #182038 0%, transparent 60%),
              radial-gradient(1000px 600px at 90% 0%, #1b142f 0%, transparent 55%),
              var(--bg);
  color: var(--text);
}

.wrap{ width:min(1200px, 94vw); margin:0 auto; }

.hero{
  margin: 22px 0 8px;
  padding: 18px 18px 10px;
  background: linear-gradient(180deg, var(--panel) 0%, rgba(18,22,34,.6) 100%);
  border: 1px solid var(--line);
  border-radius: calc(var(--radius) + 4px);
  box-shadow: var(--shadow);
}

h1{ margin:0 0 6px; font-size: clamp(22px, 4vw, 30px); letter-spacing:.2px; }
h2{ margin:0; font-size: 18px; }
h3{ margin:0 0 8px; font-size: 16px; }

.muted{ color: var(--muted); }
.small{ font-size: 12px; }

/* Tabs */
.tabs{
  display:flex; gap:8px; flex-wrap:wrap;
  margin-top: 12px;
}
.tab-btn{
  border:1px solid var(--line);
  background: var(--panel-2);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 600;
  transition: .15s ease;
}
.tab-btn:hover{ transform: translateY(-1px); }
.tab-btn.active{
  background: linear-gradient(90deg, rgba(110,231,255,.15), rgba(167,139,250,.15));
  border-color: rgba(110,231,255,.45);
  color: white;
}

/* Panel */
.section{ margin: 14px 0 24px; }
.section.hidden{ display:none; }

.panel{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.panel-head{
  padding: 14px 14px 8px;
  border-bottom: 1px solid var(--line);
}

.controls{
  margin-top: 8px;
  display:grid;
  grid-template-columns: 1fr auto auto;
  gap:8px;
}
.controls input, .controls select{
  background: var(--panel-2);
  border: 1px solid var(--line);
  color: var(--text);
  padding: 8px 10px;
  border-radius: 10px;
  outline: none;
}
.controls button{
  background: linear-gradient(90deg, rgba(110,231,255,.18), rgba(167,139,250,.18));
  border: 1px solid rgba(110,231,255,.35);
  color: white;
  padding: 8px 12px;
  border-radius: 10px;
  cursor:pointer;
  font-weight: 700;
}

.loading{
  padding: 16px;
  color: var(--muted);
}
.loading.small{ padding: 8px 4px; }

.meta{
  margin-top: 6px;
  font-size: 14px;
  color: var(--muted);
}

/* Table */
.table-wrap{ width:100%; }
.table-wrap.hidden{ display:none; }
.table-scroll{ overflow-x:auto; }

.table{
  width:100%;
  border-collapse: collapse;
  font-size: 14px;
}
.table th, .table td{
  padding: 8px 10px;
  border-bottom: 1px solid var(--line);
  white-space: nowrap;
}
.table thead th{
  position: sticky;
  top:0;
  background: var(--panel-2);
  z-index:1;
  text-align:left;
  font-weight: 800;
}
.table tbody tr:hover{
  background: rgba(255,255,255,.03);
}
.table td.name{
  font-weight: 700;
}

/* TOP highlights */
.table tbody tr.row-top3{
  background: rgba(255,255,255,.10);
}
.table tbody tr.row-top10{
  background: rgba(255,255,255,.05);
}

/* Goal % colors */
.goal-good{ color: var(--good); font-weight: 800; }
.goal-warn{ color: var(--warn); font-weight: 800; }
.goal-bad{ color: var(--bad); font-weight: 800; }

.error{
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  background: rgba(251,113,133,.12);
  border:1px solid rgba(251,113,133,.35);
  color:#ffdbe3;
}
.hidden{ display:none; }

/* History / All-time layout */
.history-controls{
  grid-template-columns: 1fr auto;
}
.history-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  padding: 12px;
}
.history-block{
  background: var(--panel-2);
  border:1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
}

@media (max-width: 900px){
  .controls{
    grid-template-columns: 1fr 1fr;
  }
  .controls button{
    grid-column: 1 / -1;
  }
  .history-grid{
    grid-template-columns: 1fr;
  }
}
